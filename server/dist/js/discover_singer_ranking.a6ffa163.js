(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["discover_singer_ranking"],{1606:function(t,i,e){},"1ae4":function(t,i,e){"use strict";e("1606")},2909:function(t,i,e){"use strict";function a(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,a=new Array(i);e<i;e++)a[e]=t[e];return a}function n(t){if(Array.isArray(t))return a(t)}e.d(i,"a",(function(){return l}));e("a4d3"),e("e01a"),e("d3b7"),e("d28b"),e("3ca3"),e("ddb0"),e("a630");function s(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}e("fb6a"),e("b0c0"),e("ac1f"),e("00b4");function r(t,i){if(t){if("string"===typeof t)return a(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,i):void 0}}e("d9e2");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return n(t)||s(t)||r(t)||c()}},"345c":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"navBar"},t._l(t.SecondNavBarData,(function(i,a){return e("div",{key:a,staticClass:"barItem",class:a==t.activeItem?"active":"",style:0==t.itemWidth?"":"width:"+t.itemWidth+"px;",on:{click:function(i){return t.clickSecondBarItem(a)}}},[t._v(" "+t._s(i.name)+" ")])})),0)},n=[],s=(e("a9e3"),e("c740"),e("b0c0"),{data:function(){return{activeItem:0}},props:{SecondNavBarData:{type:Array,default:function(){return[]}},itemWidth:{type:Number,default:function(){return 40}},currentTag:{type:Object,default:function(){return{}}}},methods:{clickSecondBarItem:function(t){this.activeItem!==t&&(this.activeItem=t,this.$emit("clickSecondBarItem",t))}},watch:{currentTag:function(t){this.activeItem=this.SecondNavBarData.findIndex((function(i){return i.name===t.name}))}}}),r=s,c=(e("cb67"),e("2877")),l=Object(c["a"])(r,a,n,!1,null,"3e819152",null);i["a"]=l.exports},"34bd":function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"listTable"},[e("div",{staticClass:"listCover"},[e("img",{attrs:{src:t.officialListDetailItem.coverImgUrl||t.cover,alt:""},on:{click:function(i){return t.clickCheckAll(t.officialListDetailItem.id)}}})]),e("div",{staticClass:"listContainer"},[t._t("header"),e("table",t._l(t.officialListDetailItem.tracks&&t.officialListDetailItem.tracks.slice(0,5)||t.officialListDetailItem.topSongs&&(t.officialListDetailItem.isOpen?t.officialListDetailItem.topSongs:t.officialListDetailItem.topSongs.slice(0,10))||t.officialListDetailItem.songs.slice(0,10),(function(i,a){return e("tr",{key:a,staticClass:"listRows",on:{click:t.handleRowClick,dblclick:function(e){return t.handleRowDbClick(t.officialListDetailItem.id||i.id,a)}}},[e("td",{staticClass:"index"},[t._v(t._s(a+1))]),e("td",{staticClass:"musicName"},[t._v(t._s(i.name))]),e("td",{staticClass:"musicTime"},[t._v(t._s(i.dt))]),e("td",{staticClass:"singer"},[t._v(t._s(i.ar[0].name))])])})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isCheckAllShow,expression:"isCheckAllShow"}],staticClass:"checkAll",on:{click:function(i){return t.clickCheckAll(t.officialListDetailItem.id)}}},[t._v(" 查看全部 "),e("i",{staticClass:"iconfont icon-arrow-right-bold"})])],2)])},n=[],s={name:"ListTable",props:{officialListDetailItem:{type:Object,default:function(){return{}}},cover:{type:String,default:function(){return""}},listId:{type:String,default:function(){return""}},isCheckAllShow:{type:Boolean,default:function(){return!0}}},data:function(){return{}},methods:{handleRowClick:function(t){var i;i="tr"===t.path[0].localName?t.path[0]:t.path[1],this.$emit("handleRowClick",i)},handleRowDbClick:function(t,i){var e=this.listId;this.$emit("handleRowDbClick",{id:t,index:i,listId:e})},clickCheckAll:function(t){var i=this.listId;this.$emit("clickCheckAll",{id:t,listId:i})}}},r=s,c=(e("6761"),e("2877")),l=Object(c["a"])(r,a,n,!1,null,"5544798f",null);i["a"]=l.exports},"43ba":function(t,i,e){},5899:function(t,i){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,i,e){var a=e("e330"),n=e("1d80"),s=e("577e"),r=e("5899"),c=a("".replace),l="["+r+"]",o=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),d=function(t){return function(i){var e=s(n(i));return 1&t&&(e=c(e,o,"")),2&t&&(e=c(e,u,"")),e}};t.exports={start:d(1),end:d(2),trim:d(3)}},"5b37":function(t,i,e){"use strict";e("a16d")},6761:function(t,i,e){"use strict";e("93ea")},"93ea":function(t,i,e){},9916:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],ref:"listCard",staticClass:"listCard",attrs:{"infinite-scroll-disabled":t.disabled,"infinite-scroll-distance":300,"infinite-scroll-immediate":!1}},t._l(t.listCardData,(function(i,a){return e("div",{key:a,staticClass:"listCardItem",on:{click:function(e){return t.clickListCardItem(i.id)}}},[e("div",{staticClass:"image"},[e("img",{attrs:{src:(i.picUrl||i.coverImgUrl)+"?param=400y400",alt:""}})]),e("div",{staticClass:"title"},[t._v(t._s(i.name))])])})),0)},n=[],s={name:"ListCard",props:{listCardData:{type:Array,default:function(){return[]}},isLoad:{type:Boolean,default:function(){return!1}}},data:function(){return{disabled:!0}},methods:{clickListCardItem:function(t){this.$emit("clickListCardItem",t)},load:function(){this.$emit("bottomLoad"),this.disabled=!0}},watch:{listCardData:function(){!0===this.isLoad&&(0!==this.listCardData.length?this.disabled=!1:this.disabled=!0)}}},r=s,c=(e("5b37"),e("2877")),l=Object(c["a"])(r,a,n,!1,null,"556776df",null);i["a"]=l.exports},"9ede":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"rankingContainer"},[0!=t.officialListDetail.length?e("div",{staticClass:"ranking"},[e("div",{staticClass:"offical"},[e("div",{staticClass:"title"},[t._v("官方榜")]),t._l(t.officialListDetail,(function(i,a){return e("list-table",{key:a,attrs:{officialListDetailItem:i},on:{handleRowDbClick:t.handleRowDbClick,clickCheckAll:t.clickListCardItem}})}))],2),e("div",{staticClass:"global"},[e("div",{staticClass:"title"},[t._v("全球榜")]),e("list-card",{staticClass:"listCard",attrs:{listCardData:t.globalList},on:{clickListCardItem:t.clickListCardItem}})],1)]):t._e()])},n=[],s=e("c7eb"),r=e("1da1"),c=(e("fb6a"),e("d3b7"),e("159b"),e("c740"),e("aa2a")),l=e("34bd"),o=e("9916"),u={components:{ListTable:l["a"],ListCard:o["a"]},name:"Ranking",data:function(){return{officialList:[],officialListDetail:[],globalList:[]}},methods:{getAllRankings:function(){var t=this;return Object(r["a"])(Object(s["a"])().mark((function i(){var e;return Object(s["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$request("/toplist");case 2:e=i.sent,t.officialList=e.data.list.slice(0,4),t.globalList=e.data.list.slice(4);case 5:case"end":return i.stop()}}),i)})))()},getMusicListDetail:function(t){var i=this;return Object(r["a"])(Object(s["a"])().mark((function e(){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.$request("/playlist/detail",{id:t});case 2:a=e.sent,a=a.data.playlist,a.tracks.forEach((function(t,i){a.tracks[i].dt=Object(c["b"])(t.dt)})),i.officialListDetail.push(a);case 6:case"end":return e.stop()}}),e)})))()},handleRowClick:function(t){document.querySelector(".selectRow")&&document.querySelector(".selectRow").classList.remove("selectRow"),t.classList.add("selectRow")},handleRowDbClick:function(t){var i=t.id,e=t.index,a=this.officialListDetail.findIndex((function(t){return t.id===i}));this.$store.commit("updateMusicId",this.officialListDetail[a].tracks[e].id),i!==this.$store.state.musicListId&&this.$store.commit("updateMusicList",{musicList:this.officialListDetail[a].tracks,musicListId:i})},clickListCardItem:function(t){this.$store.state.isLogin?(t.id&&(t=t.id),this.$router.push({name:"musicListDetail",params:{id:t}})):this.$message.error("登录后才能查看全部歌曲哦!")}},created:function(){var t=this;return Object(r["a"])(Object(s["a"])().mark((function i(){return Object(s["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.getAllRankings();case 2:t.officialList.forEach((function(i){t.getMusicListDetail(i.id)}));case 3:case"end":return i.stop()}}),i)})))()}},d=u,f=(e("a671"),e("2877")),m=Object(f["a"])(d,a,n,!1,null,"4a74f586",null);i["default"]=m.exports},a16d:function(t,i,e){},a630:function(t,i,e){var a=e("23e7"),n=e("4df4"),s=e("1c7e"),r=!s((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:r},{from:n})},a671:function(t,i,e){"use strict";e("43ba")},a9e3:function(t,i,e){"use strict";var a=e("83ab"),n=e("da84"),s=e("e330"),r=e("94ca"),c=e("cb2d"),l=e("1a2d"),o=e("7156"),u=e("3a9b"),d=e("d9b5"),f=e("c04e"),m=e("d039"),h=e("241c").f,v=e("06cf").f,p=e("9bf2").f,b=e("408a"),g=e("58a8").trim,C="Number",I=n[C],L=I.prototype,k=n.TypeError,y=s("".slice),S=s("".charCodeAt),w=function(t){var i=f(t,"number");return"bigint"==typeof i?i:_(i)},_=function(t){var i,e,a,n,s,r,c,l,o=f(t,"number");if(d(o))throw k("Cannot convert a Symbol value to a number");if("string"==typeof o&&o.length>2)if(o=g(o),i=S(o,0),43===i||45===i){if(e=S(o,2),88===e||120===e)return NaN}else if(48===i){switch(S(o,1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+o}for(s=y(o,2),r=s.length,c=0;c<r;c++)if(l=S(s,c),l<48||l>n)return NaN;return parseInt(s,a)}return+o};if(r(C,!I(" 0o1")||!I("0b1")||I("+0x1"))){for(var D,N=function(t){var i=arguments.length<1?0:I(w(t)),e=this;return u(L,e)&&m((function(){b(e)}))?o(Object(i),e,N):i},A=a?h(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),O=0;A.length>O;O++)l(I,D=A[O])&&!l(N,D)&&p(N,D,v(I,D));N.prototype=L,L.constructor=N,c(n,C,N,{constructor:!0})}},c57b:function(t,i,e){},cb67:function(t,i,e){"use strict";e("c57b")},eb4a:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"singerContainer"},[e("div",{staticClass:"singer"},[e("div",{staticClass:"seletors"},[e("div",{staticClass:"selectItem"},[e("div",{staticClass:"title"},[t._v("语种：")]),e("second-nav-bar",{staticClass:"secondNavBar",attrs:{SecondNavBarData:t.languageSort},on:{clickSecondBarItem:t.areaItem}})],1),e("div",{staticClass:"selectItem"},[e("div",{staticClass:"title"},[t._v("分类：")]),e("second-nav-bar",{staticClass:"secondNavBar",attrs:{SecondNavBarData:t.typeSort},on:{clickSecondBarItem:t.typeItem}})],1),e("div",{staticClass:"selectItem"},[e("div",{staticClass:"title"},[t._v("筛选：")]),e("second-nav-bar",{staticClass:"secondNavBar",attrs:{SecondNavBarData:t.initialSort},on:{clickSecondBarItem:t.initialItem}})],1)]),e("div",{staticClass:"listCardContainer"},[e("list-card",{attrs:{listCardData:t.singerList,isLoad:""},on:{clickListCardItem:t.clickListCardItem,bottomLoad:t.bottomLoad}})],1)]),e("go-top",{attrs:{scrollObj:".singerContainer"}})],1)},n=[],s=e("c7eb"),r=e("2909"),c=e("1da1"),l=e("9916"),o=e("345c"),u=e("7cff"),d={components:{ListCard:l["a"],SecondNavBar:o["a"],GoTop:u["a"]},name:"singer",data:function(){return{typeSort:[{type:-1,name:"全部"},{type:1,name:"男歌手"},{type:2,name:"女歌手"},{type:3,name:"乐队"}],languageSort:[{area:-1,name:"全部"},{area:7,name:"华语"},{area:96,name:"欧美"},{area:8,name:"日本"},{area:16,name:"韩国"},{area:0,name:"其它"}],initialSort:[{initial:-1,name:"热门"},{initial:"a",name:"A"},{initial:"b",name:"B"},{initial:"c",name:"C"},{initial:"d",name:"D"},{initial:"e",name:"E"},{initial:"f",name:"F"},{initial:"g",name:"G"},{initial:"h",name:"H"},{initial:"i",name:"I"},{initial:"j",name:"J"},{initial:"k",name:"K"},{initial:"l",name:"L"},{initial:"m",name:"M"},{initial:"n",name:"N"},{initial:"o",name:"O"},{initial:"p",name:"P"},{initial:"q",name:"Q"},{initial:"r",name:"R"},{initial:"s",name:"S"},{initial:"t",name:"T"},{initial:"u",name:"U"},{initial:"v",name:"V"},{initial:"w",name:"W"},{initial:"x",name:"X"},{initial:"y",name:"Y"},{initial:"z",name:"Z"},{initial:0,name:"#"}],area:-1,type:-1,initial:-1,currentPage:1,singerList:[],isMore:!1}},methods:{getSingerList:function(){var t=this;return Object(c["a"])(Object(s["a"])().mark((function i(){var e,a;return Object(s["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,t.$request("/artist/list",{type:t.type,area:t.area,initial:t.initial,offset:30*(t.currentPage-1)});case 2:a=i.sent,(e=t.singerList).push.apply(e,Object(r["a"])(a.data.artists)),t.isMore=a.data.more;case 5:case"end":return i.stop()}}),i)})))()},areaItem:function(t){this.area=this.languageSort[t].area,this.singerList=[],this.currentPage=1,this.getSingerList()},typeItem:function(t){this.type=this.typeSort[t].type,this.singerList=[],this.currentPage=1,this.getSingerList()},initialItem:function(t){this.initial=this.initialSort[t].initial,this.singerList=[],this.currentPage=1,this.getSingerList()},clickListCardItem:function(t){this.$router.push({name:"singerDetail",params:{id:t}})},bottomLoad:function(){!0===this.isMore&&(this.currentPage+=1,this.getSingerList())}},created:function(){this.getSingerList()}},f=d,m=(e("1ae4"),e("2877")),h=Object(m["a"])(f,a,n,!1,null,"61c731ec",null);i["default"]=h.exports}}]);
//# sourceMappingURL=discover_singer_ranking.a6ffa163.js.map