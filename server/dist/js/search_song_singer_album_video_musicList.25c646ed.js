(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search_song_singer_album_video_musicList"],{"0185":function(t,e,a){},"10cd":function(t,e,a){"use strict";a("3145")},3145:function(t,e,a){},3473:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"SearchSinger"},[0!=t.singerCount?a("div",[a("div",{staticClass:"tip"},[t._v("找到 "+t._s(t.singerCount)+" 位歌手")]),a("list-card",{attrs:{listCardData:t.searchSingerList},on:{clickListCardItem:t.clickListCardItem}})],1):t._e(),0!==t.singerCount&&0!=t.searchSingerList.length?a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.singerCount,small:"","page-size":30,"current-page":t.currentPage},on:{"current-change":t.pageChange}})],1):t._e()])},s=[],r=a("c7eb"),n=a("1da1"),c=a("9916"),u={components:{ListCard:c["a"]},name:"SearchSinger",data:function(){return{singerCount:0,searchSingerList:[],currentPage:1}},methods:{getSearchSinger:function(){var t=this;return Object(n["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$request("/cloudsearch",{keywords:t.$route.params.id,offset:30*(t.currentPage-1),type:100});case 2:a=e.sent,t.singerCount=a.data.result.artistCount,t.searchSingerList=a.data.result.artists;case 5:case"end":return e.stop()}}),e)})))()},pageChange:function(t){this.currentPage=t,this.searchSingerList=[],this.getSearchSinger()},clickListCardItem:function(t){this.$router.push({name:"singerDetail",params:{id:t}})}},created:function(){this.getSearchSinger()}},o=u,l=(a("10cd"),a("2877")),d=Object(l["a"])(o,i,s,!1,null,"15679616",null);e["default"]=d.exports},"3a4b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"SearchMusicList"},[0!=t.musicListCount?a("div",[a("div",{staticClass:"tip"},[t._v("找到 "+t._s(t.musicListCount)+" 个歌单")]),a("list-card",{attrs:{listCardData:t.searchMusicList},on:{clickListCardItem:t.clickListCardItem}})],1):t._e(),0!=t.searchMusicList.length?a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.musicListCount,small:"","page-size":30,"current-page":t.currentPage},on:{"current-change":t.pageChange}})],1):t._e()])},s=[],r=a("c7eb"),n=a("1da1"),c=a("9916"),u={components:{ListCard:c["a"]},name:"SearchMusicList",data:function(){return{musicListCount:0,searchMusicList:[],currentPage:1}},methods:{getSearchMusicList:function(){var t=this;return Object(n["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$request("/cloudsearch",{keywords:t.$route.params.id,offset:30*(t.currentPage-1),type:1e3});case 2:a=e.sent,t.musicListCount=a.data.result.playlistCount,t.searchMusicList=a.data.result.playlists;case 5:case"end":return e.stop()}}),e)})))()},pageChange:function(t){this.currentPage=t,this.searchMusicList=[],this.getSearchMusicList()},clickListCardItem:function(t){this.$router.push({name:"musicListDetail",params:{id:t}})}},created:function(){this.getSearchMusicList()}},o=u,l=(a("3a80"),a("2877")),d=Object(l["a"])(o,i,s,!1,null,"5011066f",null);e["default"]=d.exports},"3a80":function(t,e,a){"use strict";a("6d93")},"47d5":function(t,e,a){"use strict";a("f0d1")},5653:function(t,e,a){},"5b37":function(t,e,a){"use strict";a("a16d")},"6d93":function(t,e,a){},"6da8":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"SearchVideo"},[a("div",{staticClass:"tip"},[t._v("找到 "+t._s(t.videoCount)+" 个视频")]),a("video-list-card",{attrs:{videoList:t.searchVideoList,videoType:"video"},on:{clickListCardItem:t.clickListCardItem}}),0!=t.searchVideoList.length?a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.videoCount,small:"","page-size":30,"current-page":t.currentPage},on:{"current-change":t.pageChange}})],1):t._e()],1)},s=[],r=a("c7eb"),n=a("1da1"),c=a("cf90"),u={components:{VideoListCard:c["a"]},name:"SearchVideo",data:function(){return{videoCount:0,searchVideoList:[],currentPage:1}},methods:{getSearchVideo:function(){var t=this;return Object(n["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$request("/cloudsearch",{keywords:t.$route.params.id,type:1014,offset:30*(t.currentPage-1)});case 2:a=e.sent,t.videoCount=a.data.result.videoCount,t.searchVideoList=a.data.result.videos;case 5:case"end":return e.stop()}}),e)})))()},pageChange:function(t){this.currentPage=t,this.searchVideoList=[],this.getSearchVideo()},clickListCardItem:function(t,e){0===e?this.$router.push({name:"videoDetail",params:{id:t,type:"mv"}}):this.$router.push({name:"videoDetail",params:{id:t,type:"video"}})}},created:function(){this.getSearchVideo()}},o=u,l=(a("b543"),a("2877")),d=Object(l["a"])(o,i,s,!1,null,"f96b3eac",null);e["default"]=d.exports},"782d":function(t,e,a){},"794b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Search"},[a("nav-bar",{attrs:{navBarItem:t.navBarData},on:{clickBarItem:t.clickBarItem}}),a("div",{staticClass:"title"}),a("router-view")],1)},s=[],r=a("a687"),n={name:"Search",components:{NavBar:r["a"]},data:function(){return{navBarData:[{name:"单曲",path:"/search/searchsong/".concat(this.$route.params.id)},{name:"歌手",path:"/search/searchsinger/".concat(this.$route.params.id)},{name:"专辑",path:"/search/searchalbum/".concat(this.$route.params.id)},{name:"视频",path:"/search/searchvideo/".concat(this.$route.params.id)},{name:"歌单",path:"/search/searchmusiclist/".concat(this.$route.params.id)}]}},methods:{clickBarItem:function(t){t!==this.$route.path&&this.$router.push(t)}}},c=n,u=a("2877"),o=Object(u["a"])(c,i,s,!1,null,null,null);e["default"]=o.exports},"8f75":function(t,e,a){"use strict";a("0185")},9916:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],ref:"listCard",staticClass:"listCard",attrs:{"infinite-scroll-disabled":t.disabled,"infinite-scroll-distance":300,"infinite-scroll-immediate":!1}},t._l(t.listCardData,(function(e,i){return a("div",{key:i,staticClass:"listCardItem",on:{click:function(a){return t.clickListCardItem(e.id)}}},[a("div",{staticClass:"image"},[a("img",{attrs:{src:(e.picUrl||e.coverImgUrl)+"?param=400y400",alt:""}})]),a("div",{staticClass:"title"},[t._v(t._s(e.name))])])})),0)},s=[],r={name:"ListCard",props:{listCardData:{type:Array,default:function(){return[]}},isLoad:{type:Boolean,default:function(){return!1}}},data:function(){return{disabled:!0}},methods:{clickListCardItem:function(t){this.$emit("clickListCardItem",t)},load:function(){this.$emit("bottomLoad"),this.disabled=!0}},watch:{listCardData:function(){!0===this.isLoad&&(0!==this.listCardData.length?this.disabled=!1:this.disabled=!0)}}},n=r,c=(a("5b37"),a("2877")),u=Object(c["a"])(n,i,s,!1,null,"556776df",null);e["a"]=u.exports},a16d:function(t,e,a){},a687:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navBarContainer"},[a("div",{staticClass:"navBar"},t._l(t.navBarItem,(function(e,i){return a("div",{key:i,staticClass:"barItem",class:i==t.activeNum?"active":"",on:{click:function(a){return t.clickBarItem(e.path,i)}}},[t._v(" "+t._s(e.name)+" ")])})),0)])},s=[],r=(a("d3b7"),a("159b"),a("ac1f"),a("841c"),{name:"NavBar",data:function(){return{activeNum:0}},props:{navBarItem:{type:Array,default:function(){return[]}}},created:function(){var t=this;this.navBarItem.forEach((function(e,a){-1!==decodeURI(t.$route.path).search(e.path)&&(t.activeNum=a)}))},methods:{clickBarItem:function(t,e){this.activeNum!==e&&(this.activeNum=e,this.$emit("clickBarItem",t))}}}),n=r,c=(a("47d5"),a("2877")),u=Object(c["a"])(n,i,s,!1,null,"5a8c920d",null);e["a"]=u.exports},b543:function(t,e,a){"use strict";a("5653")},b78d:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"SearchSong"},[0!==t.songCount?a("div",[a("div",{staticClass:"tip"},[t._v("找到 "+t._s(t.songCount)+" 首单曲")]),t.multiMatch.artist&&1==t.currentPage?a("div",{staticClass:"multiMatch"},[a("div",{staticClass:"matchTitle"},[t._v("最佳匹配")]),a("div",{staticClass:"matchResult",on:{click:t.goToPersonal}},[a("div",{staticClass:"matchCover"},[a("img",{attrs:{src:t.multiMatch.artist[0].img1v1Url+"?param==200y200",alt:""}})]),a("div",{staticClass:"matchName"},[t._v("歌手: "+t._s(t.multiMatch.artist[0].name))]),a("i",{staticClass:"iconfont icon-arrow-right-bold"})])]):t._e()]):t._e(),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.searchSongList,"highlight-current-row":"",size:"mini",stripe:""},on:{"row-dblclick":t.clickRow,"cell-click":t.clickCell}},[a("el-table-column",{attrs:{label:"",width:"30",type:"index",index:t.handleIndex}}),a("el-table-column",{attrs:{label:"",width:"23"}},[a("i",{staticClass:"iconfont icon-download"})]),a("el-table-column",{attrs:{property:"name",label:"音乐标题","min-width":"200"}}),a("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手","min-width":"100"}}),a("el-table-column",{attrs:{property:"al.name",label:"专辑","min-width":"170"}}),a("el-table-column",{attrs:{property:"dt",label:"时长","min-width":"60"}})],1),0!=t.searchSongList.length?a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":30,small:"","current-page":t.currentPage,total:t.songCount},on:{"current-change":t.pageChange}})],1):t._e()],1)},s=[],r=a("c7eb"),n=a("1da1"),c=(a("d3b7"),a("159b"),a("7db0"),a("a434"),a("ac1f"),a("466d"),a("fb6a"),a("b0c0"),a("aa2a")),u={name:"SearchSong",data:function(){return{multiMatch:{},searchSongList:[],songCount:0,currentPage:1}},methods:{goToPersonal:function(){this.$router.push({name:"singerDetail",params:{id:this.multiMatch.artist[0].id}})},handleIndex:function(t){return t=t+1+30*(this.currentPage-1),t<10?"0"+t:t},getMultMath:function(){var t=this;return Object(n["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$request("/search/multimatch",{keywords:t.$route.params.id});case 2:a=e.sent,t.multiMatch=a.data.result;case 4:case"end":return e.stop()}}),e)})))()},getSearchSong:function(){var t=this;return Object(n["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$request("/cloudsearch",{keywords:t.$route.params.id,offset:30*(t.currentPage-1)});case 2:a=e.sent,t.songCount=a.data.result.songCount,t.searchSongList=a.data.result.songs,t.searchSongList.forEach((function(e,a){t.searchSongList[a].dt=Object(c["b"])(e.dt)}));case 6:case"end":return e.stop()}}),e)})))()},pageChange:function(t){this.currentPage=t,this.searchSongList=[],this.getSearchSong()},clickRow:function(t){var e=this;return Object(n["a"])(Object(r["a"])().mark((function a(){var i,s,n;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=e.$store.state.musicList,s=e.$store.state.currentIndex,n=i.find((function(e){return e.id===t.id})),!n){a.next=6;break}return e.$store.commit("updateMusicId",t.id),a.abrupt("return",!1);case 6:e.$store.commit("changePlayState",!1),i.splice(s+1,0,t),e.$store.commit("updateMusicId",t.id),e.$store.commit("updateMusicList",{musicList:i,musicListId:e.$store.state.musicListId});case 10:case"end":return a.stop()}}),a)})))()},clickCell:function(t,e,a){var i=this;return Object(n["a"])(Object(r["a"])().mark((function e(){var s,n,c,u,o;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.querySelector(".icon-download")){e.next=15;break}return e.next=3,i.$request("/song/url",{id:t.id});case 3:if(s=e.sent,null!=s.data.data[0].url){e.next=7;break}return i.$message.warning("暂时无法获取该资源哦!"),e.abrupt("return");case 7:if(n=s.data.data[0].url.match(/http.*?\.net/),c=n[0].match(/http:\/(\S*).music/)[1],"/m7"===c||"/m701"===c||"/m8"===c||"/m801"===c){e.next=12;break}return i.$message.error("匹配不到对应的代理,下载失败!"),e.abrupt("return");case 12:u=s.data.data[0].url.slice(n[0].length),o={url:c+u,name:t.name+" - "+t.ar[0].name+"."+s.data.data[0].type.toLowerCase()},i.$store.commit("updateDownloadMusicInfo",o);case 15:case"end":return e.stop()}}),e)})))()}},created:function(){this.getMultMath(),this.getSearchSong()}},o=u,l=(a("cfee"),a("2877")),d=Object(l["a"])(o,i,s,!1,null,"91727004",null);e["default"]=d.exports},cf90:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"VideoListCard"},["singerMv"==t.videoType||"mv"==t.videoType?a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticClass:"videoListCard",attrs:{"infinite-scroll-disabled":t.disabled,"infinite-scroll-distance":300,"infinite-scroll-immediate":!1}},t._l(t.videoList,(function(e,i){return a("div",{key:i,staticClass:"cardItem",on:{click:function(a){return t.clickListCardItem(e.id,i,e.type)}}},[a("div",{staticClass:"videoCover"},[a("img",{attrs:{src:("singerMv"==t.videoType?e.imgurl:e.cover)+"?param=680y400",alt:""}}),a("div",{staticClass:"playCount"},[a("i",{staticClass:"iconfont icon-shipin"}),t._v(t._s(t._f("handleNum")(e.playCount))+" ")]),"singerMv"==t.videoType?a("div",{staticClass:"videoTime"},[t._v(" "+t._s(t._f("handleMusicTime")(e.duration))+" ")]):t._e()]),a("div",{staticClass:"videoTitle"},[t._v(t._s(e.name))]),"mv"==t.videoType?a("div",{staticClass:"singer"},[t._v(t._s(e.artistName))]):t._e()])})),0):"video"==t.videoType?a("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticClass:"videoListCard",attrs:{"infinite-scroll-disabled":t.disabled,"infinite-scroll-distance":300,"infinite-scroll-immediate":!1}},t._l(t.videoList,(function(e,i){return a("div",{key:i,staticClass:"cardItem",on:{click:function(a){return t.clickListCardItem(e.vid||e.data.vid,i,e.type)}}},[a("div",{staticClass:"videoCover"},[a("img",{attrs:{src:(e.coverUrl||e.data.coverUrl)+"?param=1260y800",alt:""}}),a("div",{staticClass:"playCount"},[a("i",{staticClass:"iconfont icon-shipin"}),t._v(t._s(t._f("handleNum")(e.playTime||e.data.playTime))+" ")]),a("div",{staticClass:"videoTime"},[t._v(" "+t._s(t._f("handleMusicTime")(e.durationms||e.data.durationms))+" ")])]),a("div",{staticClass:"videoTitle"},[t._v(t._s(e.title||e.data.title))])])})),0):t._e()])},s=[],r=a("aa2a"),n={name:"VideoListCard",data:function(){return{disabled:!0}},props:{videoList:{type:Array,default:function(){return[]}},isLoad:{type:Boolean,default:function(){return!1}},videoType:{type:String,default:function(){return"singerMv"}}},methods:{clickListCardItem:function(t,e,a){this.$emit("clickListCardItem",{id:t,index:e,type:a})},load:function(){this.$emit("bottomLoad"),this.disabled=!0}},filters:{handleMusicTime:r["b"],handleNum:r["c"]},watch:{videoList:function(){!0===this.isLoad&&(0!==this.videoList.length?this.disabled=!1:this.disabled=!0)}}},c=n,u=(a("8f75"),a("2877")),o=Object(u["a"])(c,i,s,!1,null,"48ea44aa",null);e["a"]=o.exports},cfee:function(t,e,a){"use strict";a("782d")},d708:function(t,e,a){},db55:function(t,e,a){"use strict";a("d708")},f0d1:function(t,e,a){},f28a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"SearchAlbum"},[0!=t.albumCount?a("div",[a("div",{staticClass:"tip"},[t._v("找到 "+t._s(t.albumCount)+" 张专辑")]),a("list-card",{attrs:{listCardData:t.searchAlbumList},on:{clickListCardItem:t.clickListCardItem}}),0!=t.searchAlbumList.length?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",small:"","current-page":t.currentPage,"page-size":30,total:t.albumCount},on:{"current-change":t.pageChange}}):t._e()],1):t._e()])},s=[],r=a("c7eb"),n=a("1da1"),c=a("9916"),u={components:{ListCard:c["a"]},name:"SearchAlbum",data:function(){return{albumCount:0,searchAlbumList:[],currentPage:1}},methods:{getSearchAlbum:function(){var t=this;return Object(n["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$request("/cloudsearch",{type:10,keywords:t.$route.params.id,offset:30*(t.currentPage-1)});case 2:a=e.sent,t.albumCount=a.data.result.albumCount,t.searchAlbumList=a.data.result.albums;case 5:case"end":return e.stop()}}),e)})))()},pageChange:function(t){this.currentPage=t,this.searchAlbumList=[],this.getSearchAlbum()},clickListCardItem:function(t){this.$router.push({name:"album",params:{id:t}})}},created:function(){this.getSearchAlbum()}},o=u,l=(a("db55"),a("2877")),d=Object(l["a"])(o,i,s,!1,null,"11034c72",null);e["default"]=d.exports}}]);
//# sourceMappingURL=search_song_singer_album_video_musicList.25c646ed.js.map