{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/components/userListCard/UserListCard.vue?92b0","webpack:///src/components/userListCard/UserListCard.vue","webpack:///./src/components/userListCard/UserListCard.vue?5b1b","webpack:///./src/components/userListCard/UserListCard.vue","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./src/views/musicListDetail/MusicListDetail.vue?5245","webpack:///src/views/musicListDetail/MusicListDetail.vue","webpack:///./src/views/musicListDetail/MusicListDetail.vue?3e34","webpack:///./src/views/musicListDetail/MusicListDetail.vue","webpack:///./src/components/userListCard/UserListCard.vue?62bf","webpack:///./src/views/musicListDetail/MusicListDetail.vue?4381"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_arrayWithoutHoles","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","render","_vm","this","_h","$createElement","_c","_self","directives","rawName","value","expression","staticClass","attrs","disabled","_l","item","index","key","on","$event","clickUser","userId","avatarUrl","_v","_s","nickname","signature","userType","playlistCount","followeds","_e","staticRenderFns","props","userList","type","default","isLoad","data","methods","id","params","uid","load","watch","component","$","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","target","stat","forced","musicListDetail","coverImgUrl","creator","$router","push","_f","createTime","playAll","isCreated","collectList","class","isSub","_m","toDiscoverMusicList","tags","trackCount","playCount","description","clickTab","$store","state","isLogin","loadMore","staticStyle","tracks","row","scrollLoadDisabled","clickRow","clickCell","handleIndex","isMore","comments","ref","hotComments","getMusicListComment","scrollToComment","slot","info","$refs","floorComment","commentId","nickName","total","currentCommentPage","commentPageChange","followedsListData","followedsList","bottomLoad","isLoaded","isCommentLoading","currentPage","components","Comment","GoTop","UserListCard","getMusicListDetail","timestamp","Date","result","offset","limit","res","behavior","top","getMusicDetail","ids","path","cat","getUserMusicList","getMusicListFolloweds","musicList","musicListId","page","handleDOM","current","last","querySelector","querySelectorAll","tableRows","innerHTML","classList","add","lastIndex","remove","e","getIsSub","getIsCreated","t","column","cell","url","serve","downloadMusicInfo","computed","filters","showDate","handleNum","created","mounted"],"mappings":"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","file":"js/chunk-e06e0aa2.c91e176f.js","sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],staticClass:\"UserListCard\",attrs:{\"infinite-scroll-disabled\":_vm.disabled,\"infinite-scroll-distance\":300,\"infinite-scroll-immediate\":false}},_vm._l((_vm.userList),function(item,index){return _c('div',{key:index,staticClass:\"userItemContainer\",on:{\"click\":function($event){return _vm.clickUser(item.userId)}}},[_c('div',{staticClass:\"userItem\"},[_c('div',{staticClass:\"left\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.avatarUrl + '?param=200y200',\"alt\":\"\"}})]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"nickName\"},[_vm._v(_vm._s(item.nickname))]),_c('div',{staticClass:\"signature\"},[_vm._v(\" \"+_vm._s(item.signature)+\" \")]),(_vm.userType == 'personalPage')?_c('div',{staticClass:\"nums\"},[_c('div',{staticClass:\"musicListNum\"},[_vm._v(_vm._s(\"歌单: \" + item.playlistCount))]),_c('div',{staticClass:\"fenge\"},[_vm._v(\"|\")]),_c('div',{staticClass:\"followedsNum\"},[_vm._v(_vm._s(\"粉丝: \" + item.followeds))])]):_vm._e()])])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"UserListCard\"\n    v-infinite-scroll=\"load\"\n    :infinite-scroll-disabled=\"disabled\"\n    :infinite-scroll-distance=\"300\"\n    :infinite-scroll-immediate=\"false\"\n  >\n    <div\n      class=\"userItemContainer\"\n      v-for=\"(item, index) in userList\"\n      :key=\"index\"\n      @click=\"clickUser(item.userId)\"\n    >\n      <div class=\"userItem\">\n        <div class=\"left\">\n          <img :src=\"item.avatarUrl + '?param=200y200'\" alt=\"\" class=\"avatar\" />\n        </div>\n        <div class=\"right\">\n          <div class=\"nickName\">{{ item.nickname }}</div>\n          <div class=\"signature\">\n            {{ item.signature }}\n          </div>\n          <div class=\"nums\" v-if=\"userType == 'personalPage'\">\n            <div class=\"musicListNum\">{{ \"歌单: \" + item.playlistCount }}</div>\n            <div class=\"fenge\">|</div>\n            <div class=\"followedsNum\">{{ \"粉丝: \" + item.followeds }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'UserListCard',\n  props: {\n    userList: {\n      type: Array,\n      default () {\n        return []\n      }\n    },\n    // 是否使用上拉触底事件\n    isLoad: {\n      type: Boolean,\n      default () {\n        return false\n      }\n    },\n    userType: {\n      type: String,\n      default () {\n        return 'personalPage'\n      }\n    }\n  },\n  data () {\n    return {\n      // 无限滚动是否可用\n      disabled: true\n    }\n  },\n  methods: {\n    // 事件\n    // 点击useritem的事件\n    clickUser (id) {\n      // console.log(id);\n      this.$router.push({ name: 'personal', params: { uid: id } })\n    },\n\n    // 上拉触底触发\n    load () {\n      // this.disabled = false\n      this.$emit('bottomLoad')\n      this.disabled = true\n\n      // 触发load后加载数据 期间不允许再次触发load事件\n      // this.disabled = true\n    }\n  },\n  watch: {\n    //   数据更新后，可再次运行触发load事件\n    userList () {\n      if (this.isLoad === true) {\n        if (this.userList.length !== 0) {\n          this.disabled = false\n        } else {\n          this.disabled = true\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.UserListCard {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.userItemContainer {\n  margin: 0 auto;\n}\n\n.userItem {\n  display: flex;\n  width: 350px;\n  padding: 10px 10px;\n  border-radius: 10px;\n  cursor: pointer;\n}\n\n.userItem:hover {\n  background-color: #f9f9f9;\n}\n\n.avatar {\n  height: 70px;\n  width: 70px;\n  object-fit: cover;\n  border-radius: 50%;\n  border: 1px solid #eee;\n  margin-right: 10px;\n}\n\n.nickName {\n  margin: 10px 0 5px;\n  font-size: 13px;\n  color: #373737;\n}\n\n.signature {\n  font-weight: lighter;\n  font-size: 12px;\n  transform: scale(0.9) translateX(-5%);\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 250px;\n  height: 13px;\n  margin: 5px 0;\n}\n\n.nums {\n  display: flex;\n  font-size: 12px;\n  transform: scale(0.9) translateX(-5%);\n  color: #888;\n}\n\n.fenge {\n  color: #ddd;\n  margin: 0 10px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserListCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserListCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserListCard.vue?vue&type=template&id=59091b2d&scoped=true&\"\nimport script from \"./UserListCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserListCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserListCard.vue?vue&type=style&index=0&id=59091b2d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59091b2d\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es-x/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.musicListDetail)?_c('div',{staticClass:\"musicListDetail\"},[_c('div',{staticClass:\"listInfo\"},[_c('div',{staticClass:\"listAvatar\"},[_c('img',{attrs:{\"src\":_vm.musicListDetail.coverImgUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"titleTag\"},[_vm._v(\"歌单\")]),_c('div',{staticClass:\"titleContent\"},[_vm._v(_vm._s(_vm.musicListDetail.name))])]),_c('div',{staticClass:\"user\"},[_c('div',{staticClass:\"userAvatar\"},[_c('img',{attrs:{\"src\":_vm.musicListDetail.creator.avatarUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"userName\",on:{\"click\":function($event){return _vm.$router.push({\n              name: 'personal',\n              params: { uid: _vm.musicListDetail.creator.userId },\n            })}}},[_vm._v(\" \"+_vm._s(_vm.musicListDetail.creator.nickname)+\" \")]),_c('div',{staticClass:\"createTime\"},[_vm._v(\" \"+_vm._s(_vm._f(\"showDate\")(_vm.musicListDetail.createTime))+\"创建 \")])]),_c('div',{staticClass:\"buttons\"},[_c('div',{staticClass:\"buttonItem playAll\",on:{\"click\":_vm.playAll}},[_c('i',{staticClass:\"iconfont icon-bofang playAll\"}),_c('span',[_vm._v(\"播放全部\")])]),(!_vm.isCreated)?_c('div',{staticClass:\"buttonItem\",on:{\"click\":_vm.collectList}},[_c('i',{staticClass:\"iconfont icon-xihuan\",class:_vm.isSub ? 'red' : ''}),_c('span',[_vm._v(_vm._s(_vm.isSub ? \"已收藏\" : \"收藏\"))])]):_vm._e(),_vm._m(0)]),_c('div',{staticClass:\"tags\"},[_vm._v(\" 标签： \"),_vm._l((_vm.musicListDetail.tags),function(item,index){return _c('div',{key:index,staticClass:\"tagItem\",on:{\"click\":function($event){return _vm.toDiscoverMusicList(item)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),(_vm.musicListDetail.tags.length == 0)?_c('div',[_vm._v(\"暂无标签\")]):_vm._e()],2),_c('div',{staticClass:\"otherInfo\"},[_c('div',{staticClass:\"musicNum\"},[_vm._v(\" 歌曲 : \"+_vm._s(_vm._f(\"handleNum\")(_vm.musicListDetail.trackCount))+\" \")]),_c('div',{staticClass:\"playCount\"},[_vm._v(\" 播放 : \"+_vm._s(_vm._f(\"handleNum\")(_vm.musicListDetail.playCount))+\" \")])]),_c('div',{staticClass:\"desc\"},[_vm._v(\" 简介 : \"+_vm._s(_vm.musicListDetail.description ? _vm.musicListDetail.description : \"暂无简介\")+\" \")])])]),_c('div',{staticClass:\"musicList\"},[_c('el-tabs',{attrs:{\"value\":\"first\"},on:{\"tab-click\":_vm.clickTab}},[_c('el-tab-pane',{attrs:{\"label\":\"歌曲列表\",\"name\":\"first\"}},[_c('el-table',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(this.$store.state.isLogin ? _vm.loadMore : ''),expression:\"this.$store.state.isLogin ? loadMore : ''\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.musicListDetail.tracks,\"size\":\"mini\",\"highlight-current-row\":\"\",\"stripe\":\"\",\"lazy\":\"\",\"row-key\":function (row) {\n              return row.id;\n            },\"infinite-scroll-disabled\":_vm.scrollLoadDisabled,\"infinite-scroll-distance\":1500,\"infinite-scroll-immediate\":false},on:{\"row-dblclick\":_vm.clickRow,\"cell-click\":_vm.clickCell}},[_c('el-table-column',{attrs:{\"label\":\"\",\"width\":\"40\",\"type\":\"index\",\"index\":_vm.handleIndex}}),_c('el-table-column',{attrs:{\"label\":\"\",\"width\":\"23\"}},[_c('i',{staticClass:\"iconfont icon-download\"})]),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"音乐标题\",\"min-width\":\"350\"}}),_c('el-table-column',{attrs:{\"prop\":\"ar[0].name\",\"label\":\"歌手\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"al.name\",\"label\":\"专辑\",\"min-width\":\"170\"}}),_c('el-table-column',{attrs:{\"prop\":\"dt\",\"label\":\"时长\",\"min-width\":\"100\"}})],1),(_vm.isMore && !this.$store.state.isLogin)?_c('div',{staticClass:\"loadMore\"},[_vm._v(\" 登陆后查看更多音乐 \")]):_c('div',{staticClass:\"placeholder\"})],1),_c('el-tab-pane',{attrs:{\"label\":\"评论\",\"name\":\"second\"}},[(_vm.comments.comments)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isCommentLoading),expression:\"isCommentLoading\"}],staticClass:\"commentList\"},[(_vm.comments.hotComments)?_c('comment',{ref:\"hotComments\",attrs:{\"commentType\":'musicList',\"comments\":_vm.comments.hotComments,\"commentId\":_vm.musicListDetail.id + ''},on:{\"getComment\":_vm.getMusicListComment,\"scrollToComment\":_vm.scrollToComment}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"精彩评论\")])]):_vm._e(),_c('comment',{attrs:{\"comments\":_vm.comments.comments,\"commentType\":'musicList',\"commentId\":_vm.musicListDetail.id + '',\"isHotComment\":_vm.comments.hotComments ? false : true},on:{\"getComment\":_vm.getMusicListComment,\"scrollToComment\":_vm.scrollToComment,\"transToHotComment\":function (info) { return _vm.$refs.hotComments.floorComment(info.commentId, info.nickName); }}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"热门评论\")])])],1):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.comments.comments && _vm.comments.comments.length != 0),expression:\"comments.comments && comments.comments.length != 0\"}],staticClass:\"page\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.comments.total,\"small\":\"\",\"page-size\":50,\"current-page\":_vm.currentCommentPage},on:{\"current-change\":_vm.commentPageChange}})],1)]),_c('el-tab-pane',{attrs:{\"label\":\"收藏者\",\"name\":\"third\"}},[_c('user-list-card',{attrs:{\"userType\":\"musicListDetailPage\",\"userList\":_vm.followedsListData.followedsList,\"isLoad\":_vm.followedsListData.isMore},on:{\"bottomLoad\":_vm.bottomLoad}}),(\n            _vm.followedsListData.followedsList.length == 0 &&\n            _vm.followedsListData.isLoaded == false\n          )?_c('div',{staticClass:\"tips\"},[_vm._v(\" 暂无收藏者 \")]):_vm._e()],1)],1)],1),_c('go-top',{attrs:{\"scrollObj\":\".musicListDetail\"}})],1):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buttonItem\"},[_c('i',{staticClass:\"iconfont icon-zhuanfa\"}),_c('span',[_vm._v(\"分享\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"musicListDetail\" v-if=\"musicListDetail\">\n    <!-- 歌单信息 -->\n    <div class=\"listInfo\">\n      <!-- 歌单封面 -->\n      <div class=\"listAvatar\">\n        <img :src=\"musicListDetail.coverImgUrl\" alt=\"\" />\n      </div>\n      <div class=\"right\">\n        <!-- 标题 -->\n        <div class=\"title\">\n          <div class=\"titleTag\">歌单</div>\n          <div class=\"titleContent\">{{ musicListDetail.name }}</div>\n        </div>\n        <!-- 用户信息 -->\n        <div class=\"user\">\n          <div class=\"userAvatar\">\n            <img :src=\"musicListDetail.creator.avatarUrl\" alt=\"\" />\n          </div>\n          <div\n            class=\"userName\"\n            @click=\"\n              $router.push({\n                name: 'personal',\n                params: { uid: musicListDetail.creator.userId },\n              })\n            \"\n          >\n            {{ musicListDetail.creator.nickname }}\n          </div>\n          <div class=\"createTime\">\n            {{ musicListDetail.createTime | showDate }}创建\n          </div>\n        </div>\n        <!-- 操作按钮 -->\n        <div class=\"buttons\">\n          <div class=\"buttonItem playAll\" @click=\"playAll\">\n            <i class=\"iconfont icon-bofang playAll\"></i>\n            <span>播放全部</span>\n          </div>\n          <div class=\"buttonItem\" v-if=\"!isCreated\" @click=\"collectList\">\n            <i class=\"iconfont icon-xihuan\" :class=\"isSub ? 'red' : ''\"></i>\n            <span>{{ isSub ? \"已收藏\" : \"收藏\" }}</span>\n          </div>\n          <div class=\"buttonItem\">\n            <i class=\"iconfont icon-zhuanfa\"></i>\n            <span>分享</span>\n          </div>\n        </div>\n        <!-- 标签 -->\n        <div class=\"tags\">\n          标签：\n          <div\n            class=\"tagItem\"\n            v-for=\"(item, index) in musicListDetail.tags\"\n            :key=\"index\"\n            @click=\"toDiscoverMusicList(item)\"\n          >\n            {{ item }}\n          </div>\n          <div v-if=\"musicListDetail.tags.length == 0\">暂无标签</div>\n        </div>\n        <!-- 歌曲列表的歌曲数量和播放量 -->\n        <div class=\"otherInfo\">\n          <div class=\"musicNum\">\n            歌曲 : {{ musicListDetail.trackCount | handleNum }}\n          </div>\n          <div class=\"playCount\">\n            播放 : {{ musicListDetail.playCount | handleNum }}\n          </div>\n        </div>\n        <div class=\"desc\">\n          简介 :\n          {{\n            musicListDetail.description\n              ? musicListDetail.description\n              : \"暂无简介\"\n          }}\n        </div>\n      </div>\n    </div>\n    <!-- 歌曲列表 -->\n    <div class=\"musicList\">\n      <el-tabs value=\"first\" @tab-click=\"clickTab\">\n        <el-tab-pane label=\"歌曲列表\" name=\"first\">\n          <!-- 表格 -->\n          <el-table\n            :data=\"musicListDetail.tracks\"\n            size=\"mini\"\n            style=\"width: 100%\"\n            @row-dblclick=\"clickRow\"\n            @cell-click=\"clickCell\"\n            highlight-current-row\n            stripe\n            lazy\n            :row-key=\"\n              (row) => {\n                return row.id;\n              }\n            \"\n            v-infinite-scroll=\"this.$store.state.isLogin ? loadMore : ''\"\n            :infinite-scroll-disabled=\"scrollLoadDisabled\"\n            :infinite-scroll-distance=\"1500\"\n            :infinite-scroll-immediate=\"false\"\n          >\n            <el-table-column\n              label=\"\"\n              width=\"40\"\n              type=\"index\"\n              :index=\"handleIndex\"\n            >\n            </el-table-column>\n            <el-table-column label=\"\" width=\"23\">\n              <!-- 下载按钮 -->\n              <i class=\"iconfont icon-download\"></i>\n            </el-table-column>\n            <el-table-column prop=\"name\" label=\"音乐标题\" min-width=\"350\">\n            </el-table-column>\n            <el-table-column prop=\"ar[0].name\" label=\"歌手\" min-width=\"120\">\n            </el-table-column>\n            <el-table-column prop=\"al.name\" label=\"专辑\" min-width=\"170\">\n            </el-table-column>\n            <el-table-column prop=\"dt\" label=\"时长\" min-width=\"100\">\n            </el-table-column>\n            <!-- <el-table-column prop=\"id\"></el-table-column> -->\n          </el-table>\n          <div class=\"loadMore\" v-if=\"isMore && !this.$store.state.isLogin\">\n            登陆后查看更多音乐\n          </div>\n          <div class=\"placeholder\" v-else></div>\n          <!-- <div class=\"placeholder\"></div> -->\n        </el-tab-pane>\n        <el-tab-pane label=\"评论\" name=\"second\">\n          <div\n            class=\"commentList\"\n            v-if=\"comments.comments\"\n            v-loading=\"isCommentLoading\"\n          >\n            <!-- 精彩评论 -->\n            <comment\n              :commentType=\"'musicList'\"\n              :comments=\"comments.hotComments\"\n              :commentId=\"musicListDetail.id + ''\"\n              @getComment=\"getMusicListComment\"\n              @scrollToComment=\"scrollToComment\"\n              v-if=\"comments.hotComments\"\n              ref=\"hotComments\"\n              ><div slot=\"title\">精彩评论</div></comment\n            >\n            <!-- 最新评论 -->\n            <comment\n              :comments=\"comments.comments\"\n              :commentType=\"'musicList'\"\n              :commentId=\"musicListDetail.id + ''\"\n              :isHotComment=\"comments.hotComments ? false : true\"\n              @getComment=\"getMusicListComment\"\n              @scrollToComment=\"scrollToComment\"\n              @transToHotComment=\"\n                (info) =>\n                  $refs.hotComments.floorComment(info.commentId, info.nickName)\n              \"\n              ><div slot=\"title\">热门评论</div></comment\n            >\n          </div>\n          <!-- 分页 -->\n          <div\n            class=\"page\"\n            v-show=\"comments.comments && comments.comments.length != 0\"\n          >\n            <el-pagination\n              background\n              layout=\"prev, pager, next\"\n              :total=\"comments.total\"\n              small\n              :page-size=\"50\"\n              :current-page=\"currentCommentPage\"\n              @current-change=\"commentPageChange\"\n            >\n            </el-pagination>\n          </div>\n        </el-tab-pane>\n        <el-tab-pane label=\"收藏者\" name=\"third\">\n          <user-list-card\n            userType=\"musicListDetailPage\"\n            :userList=\"followedsListData.followedsList\"\n            :isLoad=\"followedsListData.isMore\"\n            @bottomLoad=\"bottomLoad\"\n          ></user-list-card>\n          <div\n            class=\"tips\"\n            v-if=\"\n              followedsListData.followedsList.length == 0 &&\n              followedsListData.isLoaded == false\n            \"\n          >\n            暂无收藏者\n          </div>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n\n    <!-- 返回顶部组件 -->\n    <go-top scrollObj=\".musicListDetail\"></go-top>\n  </div>\n</template>\n\n<script>\nimport { formatDate, handleNum, handleMusicTime } from 'plugins/util'\nimport Comment from 'components/comment/Comment.vue'\nimport GoTop from 'components/goTop/GoTop.vue'\nimport UserListCard from 'components/userListCard/UserListCard.vue'\n\nexport default {\n  name: 'musicListDetail',\n  data () {\n    return {\n      musicListDetail: null,\n      comments: {},\n      // 当前评论页数\n      currentCommentPage: 1,\n      // 是否还有更多音乐\n      isMore: false,\n      // 用户是否收藏了当前歌单\n      isSub: false,\n      // 是否是用户创建的歌单\n      isCreated: false,\n      // 评论是否在加载\n      isCommentLoading: false,\n      // 是否禁止滚动加载\n      scrollLoadDisabled: false,\n      // 收藏者列表的变量\n      followedsListData: {\n        // 当前页数\n        currentPage: 1,\n        // 列表\n        followedsList: [],\n        // 是否还有更多\n        isMore: false,\n        // 是否已经加载过列表数据 （用于点击收藏者tab后第一次加载数据）\n        isLoaded: false\n      }\n    }\n  },\n  components: {\n    Comment,\n    GoTop,\n    UserListCard\n  },\n  methods: {\n    // 请求\n    // 根据传来的 id 查询歌单\n    async getMusicListDetail () {\n      var timestamp = Date.parse(new Date())\n      // console.log(this.$route.params.id);\n      const result = await this.$request('/playlist/detail', {\n        id: this.$route.params.id,\n        timestamp\n      })\n      // console.log(result);\n      this.musicListDetail = result.data.playlist\n      // console.log(this.musicListDetail);\n      // 判断是否还有更多音乐\n      if (\n        this.musicListDetail.tracks.length !==\n        this.musicListDetail.trackIds.length\n      ) {\n        this.isMore = true\n      }\n      // 处理播放时间\n      this.musicListDetail.tracks.forEach((item, index) => {\n        this.musicListDetail.tracks[index].dt = handleMusicTime(item.dt)\n      })\n      // 判断用户是否喜欢该音乐\n      // 直接两个循环性能损耗太厉害了 没什么思路暂时不做先\n      // let likeMusicList = this.$store.state.likeMusicList;\n    },\n    // 获取歌单评论\n    async getMusicListComment (type) {\n      // 获取时间戳\n      var timestamp = Date.parse(new Date())\n      this.isCommentLoading = true\n\n      if (type === 'changePage') {\n        this.scrollToComment()\n      }\n      const res = await this.$request('/comment/playlist', {\n        id: this.$route.params.id,\n        offset: (this.currentCommentPage - 1) * 50,\n        limit: 50,\n        timestamp\n      })\n      console.log(res)\n      if (res.data.code !== 200) {\n        this.$message.error('获取评论失败,请稍后重试!')\n      }\n      this.comments = res.data\n      this.isCommentLoading = false\n      console.log('重新歌单获取评论')\n    },\n\n    scrollToComment () {\n      const musicListDetail = document.querySelector('.musicListDetail')\n      const listInfo = document.querySelector('.listInfo')\n      // console.log(\"执行了这里 滚动到精彩评论\", [listInfo]);\n      musicListDetail.scrollTo({\n        behavior: 'smooth',\n        top: listInfo.clientHeight - 20\n      })\n    },\n\n    // 获取歌曲详情\n    async getMusicDetail (ids) {\n      if (this.isMore === false) return\n      // 先滚动不加载\n      this.scrollLoadDisabled = true\n\n      const res = await this.$request('/song/detail', { ids })\n      // 处理时间\n      console.log(res)\n      res.data.songs.forEach((item, index) => {\n        res.data.songs[index].dt = handleMusicTime(item.dt)\n      })\n      this.musicListDetail.tracks.push(...res.data.songs)\n      // 判断是否还有更多音乐\n      if (\n        this.musicListDetail.tracks.length <\n        this.musicListDetail.trackIds.length\n      ) {\n        this.isMore = true\n        // 指向滚动到指定位置加载操作\n        this.scrollLoadDisabled = false\n      } else {\n        this.isMore = false\n      }\n    },\n\n    // 跳转到发现音乐的歌单页面\n    toDiscoverMusicList (item) {\n      this.$router.push({\n        path: '/discover/musiclist/musiclistindex',\n        params: { cat: item }\n      })\n    },\n\n    // 请求用户歌单\n    async getUserMusicList () {\n      const timestamp = Date.parse(new Date())\n      // 一开始想存储所有用户信息  如果登录成功是有存的\n      // 但是转念一想没必要，只要有userId就行了\n      // this.userInfo =\n      //   window.localStorage.getItem('userInfo') &&\n      //   JSON.parse(window.localStorage.getItem('userInfo'))\n      let res = await this.$request('/user/playlist', {\n        uid: window.localStorage.getItem('userId'),\n        timestamp\n      })\n      res = res.data.playlist\n      const index = res.findIndex((item) => item.subscribed === true)\n      this.collectedMusicList = res.slice(index)\n      // 将收藏的歌单上传至vuex\n      this.$store.commit('updateCollectMusicList', this.collectedMusicList)\n      // 得实现收藏就更新，且收藏按钮变红--watch实现\n      // 点击其余歌单得有显示\n    },\n\n    // 获取歌单收藏者\n    async getMusicListFolloweds () {\n      const res = await this.$request('/playlist/subscribers', {\n        id: this.$route.params.id,\n        offset: (this.followedsListData.currentPage - 1) * 20\n      })\n      console.log('获取歌单收藏者:', res)\n      this.followedsListData.isMore = res.data.more\n      this.followedsListData.followedsList.push(...res.data.subscribers)\n    },\n\n    // 事件函数\n    handleIndex (index) {\n      // console.log(index);\n      index += 1\n      if (index < 10) {\n        return '0' + index\n      } else {\n        return index\n      }\n    },\n    // 双击table的row的回调\n    async clickRow (row) {\n      console.log(row)\n      // 将musicId提交到vuex中 供bottomControl查询歌曲url和其它操作\n      this.$store.commit('updateMusicId', row.id)\n      // 如果歌单发生变化,则提交歌单到vuex\n      if (this.musicListDetail.id !== this.$store.state.musicListId) {\n        // 将歌单传到vuex\n        this.$store.commit('updateMusicList', {\n          musicList: this.musicListDetail.tracks,\n          musicListId: this.musicListDetail.id\n        })\n      }\n      // 判断歌曲是否为已喜欢\n      // this.getIsSub()\n    },\n    // 点击播放全部按钮的回调\n    playAll () {\n      this.$store.commit('updateMusicId', this.musicListDetail.tracks[0].id)\n      this.$store.commit('updateMusicList', {\n        musicList: this.musicListDetail.tracks,\n        musicListId: this.musicListDetail.id\n      })\n    },\n    // 评论点击翻页的回调\n    commentPageChange (page) {\n      this.currentCommentPage = page\n      this.getMusicListComment('changePage')\n    },\n\n    handleDOM (current, last) {\n      if (document.querySelector('.musicListDetail')) {\n        const tableRows = document\n          .querySelector('.musicListDetail')\n          .querySelectorAll('.el-table__row')\n        // 遍历当前musicList 找到当前播放的index的行进行渲染\n        // console.log(tableRows);\n        const index = this.musicListDetail.tracks.findIndex(\n          (item) => item.id === current\n        )\n        // console.log(index);\n        if (index !== -1) {\n          // 直接修改dom样式的颜色无效  可能是因为第三方组件的原故\n          // 通过引入全局样式解决\n          // 将正在播放的音乐前面的索引换成小喇叭\n          tableRows[index].children[0].querySelector(\n            '.cell'\n          ).innerHTML = '<div><i class=\"iconfont icon-yinliang\"></i></div>'\n          tableRows[index].children[0]\n            .querySelector('.iconfont')\n            .classList.add('currentRow')\n          tableRows[index].children[2]\n            .querySelector('.cell')\n            .classList.add('currentRow')\n        }\n        // 清除上一首的样式\n        if (last !== -1) {\n          const lastIndex = this.musicListDetail.tracks.findIndex(\n            (item) => item.id === last\n          )\n          if (lastIndex !== -1) {\n            // 将上一个播放的dom的小喇叭换回索引\n            tableRows[lastIndex].children[0].querySelector(\n              '.cell'\n            ).innerHTML = `<div>${\n              lastIndex + 1 < 10 ? '0' + (lastIndex + 1) : lastIndex + 1\n            }</div>`\n\n            // 将上一首的类名删掉  小喇叭的html已经被替换了，不需要再还原\n            tableRows[lastIndex].children[2]\n              .querySelector('.cell')\n              .classList.remove('currentRow')\n          }\n        }\n      }\n    },\n    // 点击el-tab-pane的回调\n    clickTab (e) {\n      console.log(e.index)\n      console.log(e)\n      console.log(this.followedsListData.isLoaded)\n      if (e.index === '1' && !this.comments.comments) {\n        this.getMusicListComment()\n      } else if (e.index === '2' && !this.followedsListData.isLoaded) {\n        this.getMusicListFolloweds()\n        this.followedsListData.isLoaded = true\n      }\n    },\n    // 点击加载所有音乐的回调\n    loadMore () {\n      if (!this.$store.state.isLogin) {\n        this.$message.error('请先进行登录操作!')\n        return\n      }\n      // console.log(\"加载所有音乐\");\n      // this.isMore = false;\n\n      let arr = this.musicListDetail.trackIds.slice(\n        this.musicListDetail.tracks.length\n      )\n      if (arr.length > 100) {\n        arr = arr.slice(0, 100)\n      }\n      // console.log(arr.length);\n      let ids = ''\n      arr.forEach((item) => {\n        ids += item.id + ','\n      })\n      ids = ids.substr(0, ids.length - 1)\n      // console.log(ids);\n      this.getMusicDetail(ids)\n    },\n    // 判断用户是否收藏了该歌单\n    getIsSub () {\n      this.isSub = this.$store.state.collectMusicList.find(\n        (item) => item.id.toString() === this.$route.params.id.toString()\n      )\n      console.log('收藏：', this.isSub)\n      // 查找用户歌单是否有当前歌单\n      // console.log('歌单', this.$route.params.id.toString())\n      // const index = this.$store.state.collectMusicList.findIndex(\n      //   (item) => {\n      //     console.log(item.id)\n      //     return item.id.toString() === this.$route.params.id\n      //   })\n      // console.log('index', index)\n      // if (index === -1) {\n      //   // 如果没有 返回false\n      //   this.isSub = false\n      // } else {\n      //   // 否则返回true\n      //   this.isSub = true\n      // }\n    },\n    // 判断是否是用户创建的歌单\n    getIsCreated () {\n      this.isCreated = this.$store.state.createdMusicList.find(\n        (item) => item.id.toString() === this.$route.params.id.toString()\n      )\n    //   console.log('this.$route.params.id', this.$route.params.id)\n    //   console.log('createdMusicList.id', this.$store.state.createdMusicList)\n    //   const index = this.$store.state.createdMusicList.findIndex(\n    //     (item) => item.id === this.$route.params.id)\n    //   if (index === -1) {\n    //     // 如果没有 返回false\n    //     this.isCreated = true\n    //   } else {\n    //     // 否则返回true\n    //     this.isCreated = false\n    //   }\n    },\n    // 点击收藏按钮的回调\n    async collectList () {\n      if (!this.$store.state.isLogin) {\n        this.$message.error('请先进行登录操作!')\n        return\n      }\n      this.isSub = !this.isSub\n      // 请求\n      const timestamp = Date.parse(new Date())\n      await this.$request('/playlist/subscribe', {\n        id: this.$route.params.id,\n        t: this.isSub ? 1 : 2,\n        timestamp\n      })\n      // 请求收藏歌单列表并保存至vuex\n      this.getUserMusicList()\n    },\n\n    async clickCell (row, column, cell) {\n      // 判断点击的是下载按钮\n      if (cell.querySelector('.icon-download')) {\n        // 请求该歌曲的url\n        console.log(row)\n        const res = await this.$request('/song/url', { id: row.id })\n        console.log(res.data.data[0].url)\n        console.log(res)\n        if (res.data.data[0].url == null) {\n          this.$message.warning('暂时无法获取该资源哦!')\n          return\n        }\n\n        // 匹配资源的域名\n        const url = res.data.data[0].url.match(/http.*?\\.net/)\n        // console.log('url', url)\n        // 匹配域名名称，并匹配对应的代理\n        const serve = url[0].match(/http:\\/(\\S*).music/)[1]\n        if (\n          serve !== '/m7' &&\n          serve !== '/m701' &&\n          serve !== '/m8' &&\n          serve !== '/m801'\n        ) {\n          // 没有对应的代理\n          this.$message.error('匹配不到对应的代理,下载失败!')\n          return\n        }\n        // 截取后面的参数\n        const params = res.data.data[0].url.slice(url[0].length)\n        // console.log(url[0], serve, params);\n\n        const downloadMusicInfo = {\n          url: serve + params,\n          name:\n            row.name +\n            ' - ' +\n            row.ar[0].name +\n            '.' +\n            res.data.data[0].type.toLowerCase()\n        }\n        console.log(downloadMusicInfo)\n        this.$store.commit('updateDownloadMusicInfo', downloadMusicInfo)\n      }\n    },\n\n    // 收藏者列表触底的回调\n    bottomLoad () {\n      // 得先判断是否已经进行tab-2了\n      // if (this.followedsListData.isLoaded) {\n      //   this.followedsListData.currentPage += 1\n      //   this.getMusicListFolloweds()\n      // }\n      this.followedsListData.currentPage += 1\n      this.getMusicListFolloweds()\n    }\n  },\n  computed: {},\n  watch: {\n    // \"$store.state.currentIndex\"(currentIndex, lastIndex) {\n    //   // 目前没什么好思路 直接操作原生DOM\n    //   console.log(currentIndex, lastIndex);\n    //   // this.handleTableDOM(currentIndex, lastIndex);\n    // },\n    // 监听createdMusicList的变化\n    '$store.state.createdMusicList' (current, last) {\n      // 如果在收藏页面刷新，收藏歌单还没获取到，但是收藏按钮已经渲染了，所以在第一次获取到数据时，再渲染一次\n      // 如果是刚刷新，last则为空\n      if (last.length === 0) {\n        this.getIsSub()\n      }\n    },\n    // // 监听歌单发生变化musicListId\n    // '$store.state.musicListId' () {\n    //   this.getIsSub()\n    // },\n    // 监听collectMusicList的变化,进行变化收藏状态\n    '$store.state.collectMusicList' (current, last) {\n      this.getIsSub()\n    }\n  },\n  filters: {\n    showDate (value) {\n      // 1、先将时间戳转成Date对象\n      const date = new Date(value)\n\n      // 2、将date进行格式化\n      return formatDate(date, 'yyyy-MM-dd')\n    },\n    handleNum\n  },\n  created () {\n    // this.getMusicListFolloweds()\n    // this.getMusicListComment()\n  },\n  async mounted () {\n    if (this.$store.state.isLogin) {\n      // 先判断是否是用户创建的歌单\n      this.getIsCreated()\n      // 如果不是 再判断是否是收藏的歌单\n      console.log('创建的', this.isCreated)\n      if (!this.isCreated) {\n        this.getIsSub()\n      }\n    }\n    await this.getMusicListDetail()\n    this.$nextTick(() => {\n      // 判断是否和上一次打开的歌单相同\n      if (this.$route.params.id === this.$store.state.musicListId) {\n        this.handleDOM(this.$store.state.musicId)\n      }\n    })\n  }\n}\n</script>\n\n<style scoped>\n.musicListDetail {\n  overflow-y: scroll;\n}\n\n.listInfo {\n  display: flex;\n  padding: 25px 15px;\n  align-items: center;\n}\n\n.listAvatar {\n  width: 150px;\n  height: 150px;\n  overflow: hidden;\n  border-radius: 10px;\n  margin-right: 15px;\n  position: relative;\n}\n\n.listAvatar::after {\n  content: \"\";\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  background: url(\"~assets/img/imgLoading.png\") no-repeat;\n  background-size: contain;\n  z-index: -1;\n}\n\n.listAvatar img {\n  width: 100%;\n}\n\n.right {\n  width: calc(100% - 200px);\n}\n\n.title {\n  display: flex;\n  align-items: center;\n}\n\n.titleTag {\n  font-size: 12px;\n  color: #ec4141;\n  border: 1px solid #ec4141;\n  padding: 1px 2px;\n  border-radius: 2px;\n  margin-right: 5px;\n  transform: scale(0.8);\n}\n\n.titleContent {\n  font-size: 20px;\n  font-weight: 600;\n  color: #373737;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 90%;\n}\n\n.user {\n  display: flex;\n  align-items: center;\n  margin-top: 8px;\n  font-size: 12px;\n}\n\n.userAvatar {\n  height: 25px;\n  width: 25px;\n  margin-right: 8px;\n}\n\n.userAvatar img {\n  width: 100%;\n  border-radius: 50%;\n}\n\n.userName {\n  color: #6191c2;\n  margin-right: 8px;\n  cursor: pointer;\n}\n\n.createTime {\n  transform: scale(0.9);\n}\n\n.buttons {\n  margin: 8px 0 0 -5px;\n  display: flex;\n}\n\n.buttonItem {\n  font-size: 12px;\n  padding: 8px 15px;\n  border: 1px solid #ddd;\n  border-radius: 20px;\n  transform: scale(0.9);\n}\n\n.buttonItem i {\n  font-size: 12px;\n  margin-right: 3px;\n  transform: scale(0.9);\n}\n\n.playAll {\n  background-color: #ec4141;\n  color: white;\n}\n\n.tags {\n  margin: 8px 0 0 -30px;\n  display: flex;\n  font-size: 12px;\n  transform: scale(0.9);\n}\n\n.tagItem {\n  color: #6191c2;\n  margin-right: 5px;\n  cursor: pointer;\n}\n\n.otherInfo {\n  margin: 5px 0 0 -30px;\n  display: flex;\n  font-size: 12px;\n  transform: scale(0.9);\n}\n\n.musicNum {\n  margin-right: 13px;\n}\n\n.desc {\n  margin: 5px 0 0 -30px;\n  font-size: 12px;\n  transform: scale(0.9);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.musicList {\n  margin: -15px 15px 0;\n}\n\n.page {\n  width: 100%;\n  text-align: center;\n  padding-bottom: 20px;\n}\n\n.placeholder {\n  width: 100%;\n  height: 50px;\n}\n\n.loadMore {\n  width: 100%;\n  height: 50px;\n  font-size: 12px;\n  color: #aaa;\n  text-align: center;\n  line-height: 50px;\n  transform: scale(0.9);\n}\n\n.red {\n  color: #ec4141;\n}\n\n.commentList /deep/ .el-loading-spinner {\n  top: 40px;\n}\n\n.tips {\n  font-size: 14px;\n  margin: 30px 0;\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MusicListDetail.vue?vue&type=template&id=491e06dc&scoped=true&\"\nimport script from \"./MusicListDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./MusicListDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MusicListDetail.vue?vue&type=style&index=0&id=491e06dc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"491e06dc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserListCard.vue?vue&type=style&index=0&id=59091b2d&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListDetail.vue?vue&type=style&index=0&id=491e06dc&scoped=true&lang=css&\""],"sourceRoot":""}